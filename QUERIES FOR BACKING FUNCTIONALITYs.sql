-- Outstanding debts
SELECT U.USERNAME, BS.BACKER_ID, SUM(BS.OWED - BS.PAYED) AS OWED
FROM V$_BACKING_STATUS BS,USERS U
WHERE BS.BACKER_ID = U.USER_ID
AND U.USER_ID = :userId
GROUP BY U.USERNAME, BS.BACKER_ID


-- Outstanding backing agreements between a user and a backer
SELECT BS.GS_ID, BS.BA_ID, BS.GAME_DATE, SUM(BS.OWED - BS.PAYED) AS OUTSTANDING
FROM V$_BACKING_STATUS BS,USERS U
WHERE BS.BACKER_ID = :backerId
AND U.USER_ID = :userId
GROUP BY BS.GS_ID, BS.BA_ID, BS.GAME_DATE