<html>
	<head>
		<link rel="stylesheet" type="text/css" href="views/css/all.css">
	</head>

	<body>
		<div id="newSessionContainer">

			<h1>Cash Game</h1>
			<form id="newSessionForm" method="POST" action="">
				<table>
					<tr>
						<td class="leftColumn"><label for="sessionStart">Start:</label></td>
						<td class="rightColumn"><input id="sessionStart" type="date" name="startDate"></td>
					</tr>
					<tr>
						<td class="leftColumn"><label for="sessionEnd">End:</label></td>
						<td class="rightColumn"><input id="sessionEnd" type="date" name="endDate"></td>
					</tr>
					<tr>
						<td class="leftColumn"><label for="sessionBuyin">Buy-in:</label></td>
						<td class="rightColumn"><input id="sessionBuyin" type="text" name="amountIn"></td>
					</tr>
					<tr>
						<td class="leftColumn"><label for="sessionCashout">Cash-out:</label></td>
						<td class="rightColumn"><input id="sessionCashout" type="text" name="amountOut"></td>
					</tr>
					<tr>
						<td class="leftColumn"><label for="sessionLocation">Location:</label></td>
						<td class="rightColumn">
							<select id="sessionLocation" name="locationName" onchange="checkLocationName();">
								<option value="[locations.NAME;block=option;]">[locations.NAME]</option>
								<option value="">New Location</option>
							</select>
							<span id="newLocation" style="display:none;">
								<br/>
								<label for="sessionNewLocation">Name:</label>
								<input id="sessionNewLocation" type="text" name="newLocationName">
							</span>
						</td>
					</tr>
					<tr>
						<td class="leftColumn"><label for="sessionBacker">Backer:</label></td>
						<td class="rightColumn">
							<select id="sessionBacker" name="backerId" onchange="checkBackerNamePercentage();">
								<option value="[backers.USER_ID;block=option;]">[backers.USERNAME] - [backers.PERCENT_OF_WIN]%</option>
								<option value="">New Backer</option>
							</select>
							<span id="newBackingAgreement" style="display:none;">
								<br/>
								<label for="sessionNewBackerName">Name:</label>
								<input id="sessionNewBackerName" type="text" name="newBackerName">
								<br/>
								<label for="sessionNewBackerPercentage">Percentage:</label>
								<input id="sessionNewBackerPercentage" type="text" name="newBackerPercentage" size="2">
							</span>
						</td>
					</tr>
				</table>

				<input id="sessionSave" type="submit" value="Save" name="submit">

			</form>
		</div>

		<script>

			checkLocationName();
			checkBackerNamePercentage();

			function checkLocationName() {
				// Hide input
				document.getElementById("newLocation").style.display = "none";

				var dropdownList = document.getElementById("sessionLocation");
				if(dropdownList.options[dropdownList.selectedIndex].value == "") {
					// Show input
				 	document.getElementById("newLocation").style.display = "";
				}
			}

			function checkBackerNamePercentage() {
				// Hide input
				document.getElementById("newBackingAgreement").style.display = "none";

				var dropdownList = document.getElementById("sessionBacker");
				if(dropdownList.options[dropdownList.selectedIndex].value == "") {
					// Show input
				 	document.getElementById("newBackingAgreement").style.display = "";
				}
			}

		</script>

	</body>
</html>
